/* =========================================================
   ServePoint HUD Theme (sp-hud.css)
   Drop-in replacement for full app styling
   ========================================================= */

/* ---------- THEME TOKENS ---------- */
:root {
    /* Core palette */
    --sp-bg: #070c0c;
    --sp-bg2: #0a1111;
    --sp-panel: rgba(9, 18, 18, .72);
    --sp-panel-2: rgba(10, 22, 22, .78);
    --sp-line: rgba(130, 255, 240, .14);
    --sp-line-2: rgba(130, 255, 240, .22);
    --sp-text: rgba(236, 255, 250, .92);
    --sp-text-dim: rgba(236, 255, 250, .62);
    --sp-text-muted: rgba(236, 255, 250, .45);
    /* Accent is the "DASHBOARD" title color */
    --sp-accent: #8fffe9;
    --sp-accent-2: #56e7d0;
    /* Status */
    --sp-good: #49e7a7;
    --sp-warn: #ffd166;
    --sp-bad: #ff6b6b;
    /* Button focus ring */
    --sp-focus: 0 0 0 .18rem rgba(143, 255, 233, .22);
    /* Rounding/shadows */
    --sp-r: 12px;
    --sp-r-sm: 10px;
    --sp-shadow: 0 12px 32px rgba(0,0,0,.45);
    --sp-inset: inset 0 0 0 1px var(--sp-line);
    --sp-font: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}

/* ---------- GLOBAL BACKGROUND ---------- */
html, body {
    height: 100%;
}

body {
    margin: 0;
    color: var(--sp-text);
    background: radial-gradient(1200px 600px at 30% 10%, rgba(143,255,233,.10), transparent 60%), radial-gradient(900px 500px at 80% 30%, rgba(86,231,208,.08), transparent 60%), linear-gradient(180deg, var(--sp-bg), var(--sp-bg2));
    font-family: var(--sp-font);
}

    /* Subtle grid */
    body::before {
        content: "";
        position: fixed;
        inset: 0;
        pointer-events: none;
        background: linear-gradient(rgba(143,255,233,.06) 1px, transparent 1px), linear-gradient(90deg, rgba(143,255,233,.06) 1px, transparent 1px);
        background-size: 36px 36px;
        opacity: .25;
        mix-blend-mode: screen;
    }

/* ---------- LINKS / TITLES ---------- */
a {
    color: var(--sp-accent);
    text-decoration: none;
}

    a:hover {
        color: var(--sp-accent-2);
    }

h1, h2, h3 {
    letter-spacing: .06em;
    text-transform: uppercase;
}

h1 {
    color: var(--sp-accent);
}

/* ---------- LAYOUT SHELL ---------- */
.sp-shell {
    min-height: 100vh;
    display: grid;
    grid-template-columns: 260px 1fr;
}

.sp-sidebar {
    position: sticky;
    top: 0;
    height: 100vh;
    padding: 16px 12px;
    background: rgba(6, 12, 12, .78);
    border-right: 1px solid var(--sp-line);
    backdrop-filter: blur(8px);
}

.sp-brand {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px 10px 14px;
    border-bottom: 1px solid var(--sp-line);
    margin-bottom: 10px;
}

.sp-brand-mark {
    color: var(--sp-accent);
    filter: drop-shadow(0 0 10px rgba(143,255,233,.22));
}

.sp-brand-text {
    font-weight: 700;
    letter-spacing: .08em;
    color: var(--sp-text);
}

.sp-brand-sub {
    color: var(--sp-text-dim);
    font-weight: 600;
}

.sp-main {
    min-height: 100vh;
    display: grid;
    grid-template-rows: auto 1fr;
}

.sp-topbar {
    height: 54px;
    display: flex;
    align-items: center;
    justify-content: flex-end;
    padding: 0 18px;
    border-bottom: 1px solid var(--sp-line);
    background: rgba(6, 12, 12, .58);
    backdrop-filter: blur(8px);
}

.sp-topbar-link {
    color: var(--sp-text-dim);
    font-size: .88rem;
    letter-spacing: .08em;
    text-transform: uppercase;
}

    .sp-topbar-link:hover {
        color: var(--sp-accent);
    }

.sp-content {
    padding: 18px 18px 28px;
}

/* ---------- NAV MENU ---------- */
.navbar, .navbar-dark {
    background: transparent !important;
}

.nav-scrollable {
    padding-top: 10px;
}

.nav .nav-link {
    border-radius: 10px;
    color: var(--sp-text-dim) !important;
    padding: 10px 12px;
    margin: 6px 6px;
    border: 1px solid transparent;
    transition: all .12s ease;
}

    .nav .nav-link:hover {
        color: var(--sp-text) !important;
        border-color: var(--sp-line);
        background: rgba(143,255,233,.06);
    }

    .nav .nav-link.active {
        color: var(--sp-text) !important;
        border-color: var(--sp-line-2);
        background: rgba(143,255,233,.10);
        box-shadow: inset 0 0 0 1px rgba(143,255,233,.10);
    }

/* ---------- CARDS / PANELS ---------- */
.card,
.sp-card {
    background: var(--sp-panel) !important;
    color: var(--sp-text) !important;
    border: 1px solid var(--sp-line) !important;
    border-radius: var(--sp-r) !important;
    box-shadow: var(--sp-shadow);
    backdrop-filter: blur(8px);
}

/* Card header */
.card-header {
    background: rgba(10, 26, 26, .55) !important;
    border-bottom: 1px solid var(--sp-line) !important;
    color: var(--sp-text) !important;
}

/* Muted text fixes (your “too dark” issue) */
.text-muted {
    color: var(--sp-text-muted) !important;
}

.small.text-muted {
    color: var(--sp-text-muted) !important;
}

/* ---------- ALERTS (optional – keep readable) ---------- */
.alert {
    border-radius: var(--sp-r) !important;
    border: 1px solid var(--sp-line) !important;
    background: rgba(9, 18, 18, .70) !important;
    color: var(--sp-text) !important;
}

.alert-danger {
    border-color: rgba(255,107,107,.35) !important;
}

.alert-info {
    border-color: rgba(143,255,233,.30) !important;
}

/* ---------- BUTTONS ---------- */
.btn {
    border-radius: 10px !important;
    letter-spacing: .06em;
    text-transform: uppercase;
    font-size: .78rem;
}

    .btn:focus, .btn:active:focus {
        box-shadow: var(--sp-focus) !important;
    }

.btn-primary {
    background: rgba(143,255,233,.16) !important;
    border-color: rgba(143,255,233,.36) !important;
    color: var(--sp-text) !important;
}

    .btn-primary:hover {
        background: rgba(143,255,233,.22) !important;
        border-color: rgba(143,255,233,.55) !important;
    }

.btn-outline-secondary {
    background: transparent !important;
    border-color: var(--sp-line) !important;
    color: var(--sp-text-dim) !important;
}

    .btn-outline-secondary:hover {
        border-color: var(--sp-line-2) !important;
        color: var(--sp-text) !important;
        background: rgba(143,255,233,.06) !important;
    }

.btn-outline-primary {
    background: transparent !important;
    border-color: rgba(143,255,233,.35) !important;
    color: var(--sp-accent) !important;
}

    .btn-outline-primary:hover {
        background: rgba(143,255,233,.10) !important;
        border-color: rgba(143,255,233,.60) !important;
        color: var(--sp-text) !important;
    }

.btn-outline-danger {
    background: transparent !important;
    border-color: rgba(255,107,107,.35) !important;
    color: rgba(255,230,230,.92) !important;
}

    .btn-outline-danger:hover {
        background: rgba(255,107,107,.10) !important;
        border-color: rgba(255,107,107,.55) !important;
    }

/* Disabled look: keep HUD style (no gray blocks) */
.btn:disabled, .btn.disabled {
    opacity: .45 !important;
    filter: saturate(.7);
}

/* ---------- FORMS (fix gray inputs & white dropdown) ---------- */
.form-control,
.form-select,
textarea.form-control,
input.form-control {
    background: rgba(8, 18, 18, .72) !important;
    color: var(--sp-text) !important;
    border: 1px solid var(--sp-line) !important;
    border-radius: 10px !important;
    box-shadow: none !important;
}

    .form-control::placeholder {
        color: rgba(236,255,250,.35) !important;
    }

    .form-control:focus,
    .form-select:focus {
        border-color: rgba(143,255,233,.65) !important;
        box-shadow: var(--sp-focus) !important;
        background: rgba(8, 18, 18, .78) !important;
    }

/* Date picker icon (Chrome) */
input[type="date"]::-webkit-calendar-picker-indicator {
    filter: invert(1) opacity(.75);
}

/* Make dropdown menu options NOT white/black (best-effort; OS-drawn limits apply) */
select.form-select option {
    background-color: rgba(8, 18, 18, .98);
    color: var(--sp-text);
}
    /* Hover highlight in option list (Chrome/Edge partially honor this) */
    select.form-select option:hover {
        background-color: rgba(143,255,233,.18);
        color: var(--sp-text);
    }
    /* Selected option background */
    select.form-select option:checked {
        background-color: rgba(143,255,233,.22);
        color: var(--sp-text);
    }

/* ---------- TABLES (fix white rows + black text) ---------- */
.table {
    color: var(--sp-text) !important;
    margin-bottom: 0;
}

    /* Kill Bootstrap "table-light" & default cell backgrounds */
    .table-light,
    .table > :not(caption) > * > * {
        background-color: transparent !important;
        color: var(--sp-text) !important;
        border-color: var(--sp-line) !important;
    }

    /* Header row */
    .table thead th {
        font-size: .70rem;
        letter-spacing: .14em;
        text-transform: uppercase;
        color: var(--sp-text-dim) !important;
        background: rgba(6, 12, 12, .55) !important;
        border-bottom: 1px solid var(--sp-line) !important;
    }

    /* Body rows */
    .table tbody td {
        color: var(--sp-text) !important;
        background: transparent !important;
        border-top: 1px solid rgba(130,255,240,.10) !important;
    }

/* Hover row */
.table-hover tbody tr:hover > * {
    background: rgba(143,255,233,.06) !important;
}

/* Table container shell to match HUD */
.sp-table-shell {
    overflow: hidden;
}

/* ---------- BADGES ---------- */
.badge {
    font-weight: 700;
    letter-spacing: .08em;
    text-transform: uppercase;
    border-radius: 999px;
    padding: .32rem .55rem;
}

    .badge.bg-success {
        background: rgba(73,231,167,.16) !important;
        color: rgba(236,255,250,.95) !important;
        border: 1px solid rgba(73,231,167,.35) !important;
    }

    .badge.bg-warning {
        background: rgba(255,209,102,.16) !important;
        color: rgba(255,244,210,.98) !important;
        border: 1px solid rgba(255,209,102,.35) !important;
    }

    .badge.bg-secondary {
        background: rgba(236,255,250,.10) !important;
        color: rgba(236,255,250,.85) !important;
        border: 1px solid rgba(236,255,250,.14) !important;
    }

/* ---------- PROGRESS (fix track + fill) ---------- */
.sp-label {
    font-size: .72rem;
    letter-spacing: .16em;
    text-transform: uppercase;
    color: var(--sp-text-dim);
}

.sp-value {
    font-size: .92rem;
    color: var(--sp-text);
    letter-spacing: .06em;
}

.sp-badge {
    background: rgba(143,255,233,.14) !important;
    border: 1px solid rgba(143,255,233,.30) !important;
    color: var(--sp-accent) !important;
}

.progress.sp-progress {
    height: 14px;
    border-radius: 999px;
    /* track should match background */
    background: rgba(6, 12, 12, .55) !important;
    border: 1px solid var(--sp-line) !important;
    box-shadow: var(--sp-inset);
    overflow: hidden;
}

    .progress.sp-progress .progress-bar {
        /* blue should match DASHBOARD font */
        background: linear-gradient(90deg, var(--sp-accent), var(--sp-accent-2)) !important;
        box-shadow: 0 0 18px rgba(143,255,233,.18);
    }

/* ---------- OFFCANVAS (fix white panels) ---------- */
.offcanvas {
    background: var(--sp-panel-2) !important;
    color: var(--sp-text) !important;
    border-left: 1px solid var(--sp-line) !important;
    box-shadow: var(--sp-shadow);
    backdrop-filter: blur(10px);
}

    .offcanvas .offcanvas-header {
        background: rgba(6, 12, 12, .55) !important;
        border-bottom: 1px solid var(--sp-line) !important;
        color: var(--sp-text) !important;
    }

    .offcanvas .offcanvas-body {
        color: var(--sp-text) !important;
    }

    /* Close button (make it visible on dark) */
    .offcanvas .btn-close {
        filter: invert(1) opacity(.75);
    }

        .offcanvas .btn-close:hover {
            opacity: 1;
        }

/* Backdrop */
.offcanvas-backdrop.show {
    opacity: .55 !important;
}

/* ---------- MISC ---------- */
hr {
    border-color: rgba(130,255,240,.16) !important;
    opacity: 1;
}

/* Prevent Bootstrap from making “shadow-sm” look odd */
.shadow-sm {
    box-shadow: var(--sp-shadow) !important;
}

/* Make “display-6” readable on HUD */
.display-6 {
    color: var(--sp-text) !important;
    text-shadow: 0 0 16px rgba(143,255,233,.10);
}

/* Ensure table text never flips to black */
.table * {
    color: inherit;
}

/* Ensure dropdowns don't introduce light borders */
.form-select {
    background-image: linear-gradient(45deg, transparent 50%, rgba(236,255,250,.55) 50%), linear-gradient(135deg, rgba(236,255,250,.55) 50%, transparent 50%), linear-gradient(to right, transparent, transparent);
    background-position: calc(100% - 18px) calc(1em + 2px), calc(100% - 13px) calc(1em + 2px), 100% 0;
    background-size: 5px 5px, 5px 5px, 2.5em 2.5em;
    background-repeat: no-repeat;
}
